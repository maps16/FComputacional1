#importando librerias
import matplotlib.pyplot as plt
import numpy as np

#Obtencion de datos
datos = np.loadtxt('TNY.txt')

#Separacion de los datos para un mejor manejo
x = datos[:,0]
y = datos[:,1] 

#Grafica de puntos de los datos
#plt.plot(x,y,'bo')

#Aplicando regresion lineal
#m,b = np.polyfit(x,y,1)
#xr = np.polyval([m,b],x)

#Graficar el ajuste lineal
#plt.plot(x,xr,'r')
#plt.show()
    

fitfunc = lambda p, x: p[0] + p[1]*x # Target function
errfunc = lambda p, x, y: fitfunc(p, x) - y # Distance to the target function
p0 = [-15., 0.8, 0., -1.] # Initial guess for the parameters
p1, success = optimize.leastsq(fitfunc, p0[:], args=(x, y))

time = np.linspace(Tx.min(), Tx.max(), 100)
plt.plot(Tx, tX, "ro", time, fitfunc(p1, time), "r-") # Plot of the data and the fit

plt.title("Oscillations in the compressed trap")
plt.xlabel("time [ms]")
plt.ylabel("displacement [um]")
plt.legend(('x position', 'x fit', 'y position', 'y fit'))

ax = plt.axes()
plt.show()
